(this["webpackJsonpcharger-emulator-interface"]=this["webpackJsonpcharger-emulator-interface"]||[]).push([[0],{43:function(e,t,s){},45:function(e,t,s){},49:function(e,t,s){},51:function(e,t,s){},52:function(e,t,s){},53:function(e,t,s){},54:function(e,t,s){},55:function(e,t,s){"use strict";s.r(t);var i=s(0),a=s(1),o=s.n(a),n=s(33),r=s.n(n),c=(s(43),s(6)),l=s.n(c),d=s(11),u=s(16),p=s(13),v=s(3),h=s(18),m=s(17),g=s(70),S=s(35),j=s(69),b=(s(45),function(e){Object(h.a)(s,e);var t=Object(m.a)(s);function s(e){var i;return Object(u.a)(this,s),(i=t.call(this,e)).theme=Object(g.a)(Object(S.a)({typography:{h1:{fontSize:200},h2:{fontSize:15}}})),i.portReader={},i.portWriter={},i.rawData="",i.role="",i.state={printOutCom:"",toggleToRefresh:!1,role:"PEV",checked:!1,percentage:0,started:!1,continuousTest:!1,pevProtocol:"",pevDeviceState:-1,pevHpgState:-1,evseProtocol:"",evseAmplitude:0,evseDeviceState:-1,evseHpgState:-1,timeoutFound:!1},i.queryInterval={},i.initializePEVStrings(),i.pevSendStartCommand=i.pevSendStartCommand.bind(Object(v.a)(i)),i.pevSendStopCommand=i.pevSendStopCommand.bind(Object(v.a)(i)),i.handleContToggleSwitch=i.handleContToggleSwitch.bind(Object(v.a)(i)),i.showDetailedProgress=i.showDetailedProgress.bind(Object(v.a)(i)),i.showLinkPanel=i.showLinkPanel.bind(Object(v.a)(i)),i.setContinuosState=i.setContinuosState.bind(Object(v.a)(i)),i.resetLinkMeasurementsList=i.resetLinkMeasurementsList.bind(Object(v.a)(i)),i.linkMeasurements=[],i.timeoutStartInterval={},i.timeoutStopInterval={},i.gatheringInformationInterval={},i}return Object(p.a)(s,[{key:"pevSendStartCommand",value:function(){console.log("Send Start Command");var e=new Uint8Array([32]);this.portWriter.write(e).then((function(e){console.error("Write ' ' for start... ")})),this.setState({printOutCom:this.printOutCom,toggleToRefresh:this.toggleToRefresh,role:this.state.role,percentage:0,started:!0,continuousTest:this.state.continuousTest,pevProtocol:this.state.pevProtocol,pevDeviceState:this.state.pevDeviceState,pevHpgState:this.state.pevHpgState,evseProtocol:this.state.evseProtocol,evseAmplitude:this.state.evseAmplitude,evseDeviceState:this.state.evseDeviceState,evseHpgState:this.state.evseHpgState,timeoutFound:this.state.timeoutFound})}},{key:"handleContToggleSwitch",value:function(e){}},{key:"pevSendStopCommand",value:function(){var e=new Uint8Array([100]);this.portWriter.write(e).then((function(e){console.error("Write 'd' for disconnect... ")})),this.rawData="",clearInterval(this.timeoutStartInterval),clearInterval(this.timeoutStopInterval),this.initializePEVStrings(),this.pevStrings[13].found=!0,this.setState({printOutCom:this.printOutCom,toggleToRefresh:!0,role:this.role,percentage:0,started:!1,continuousTest:this.state.continuousTest,pevProtocol:this.state.pevProtocol,pevDeviceState:this.state.pevDeviceState,pevHpgState:this.state.pevHpgState,evseProtocol:this.state.evseProtocol,evseAmplitude:this.state.evseAmplitude,evseDeviceState:this.state.evseDeviceState,evseHpgState:this.state.evseHpgState,timeoutFound:!1})}},{key:"initializePEVStrings",value:function(){this.pevStrings=[{details:"CM_SLAC_PARAM.REQ sent",display:"CM_SLAC_PARAM.REQ sent",found:!1,warning:"false",blink:!1},{details:"CM_SLAC_PARAM.CNF received",display:"CM_SLAC_PARAM.CNF received",found:!1,warning:"false",blink:!1},{details:"CM_START_ATTEN_CHAR.IND sent",display:"CM_START_ATTEN_CHAR.IND sent",found:!1,warning:"false",blink:!1},{details:"CM_MNBC_SOUND.IND sent",display:"CM_MNBC_SOUND.IND sent",found:!1,warning:"false",blink:!1},{details:"CM_ATTEN_CHAR.IND received",display:"CM_ATTEN_CHAR.IND received",found:!1,warning:"false",blink:!1},{details:"CM_ATTEN_CHAR.RSP sent",display:"CM_ATTEN_CHAR.RSP sent",found:!1,warning:"false",blink:!1},{details:"CM_SLAC_MATCH.REQ sent",display:"CM_SLAC_MATCH.REQ sent",found:!1,warning:"false",blink:!1},{details:"CM_SLAC_MATCH.CNF received",display:"CM_SLAC_MATCH.CNF received",found:!1,warning:"false",blink:!1},{details:"Link Measurement:",display:"Link Measurement:",found:!1,warning:"false",blink:!1},{details:"Sending IPv6.",display:"Sending IPv6.",found:!1,warning:"false",blink:!1},{details:"IPv6 Message is received",display:"IPv6 Message is received",found:!1,warning:"false",blink:!1},{details:"TIMEOUT",display:"Timeout Occured",found:!1,warning:"red",blink:!1},{details:"TIMEOUT FOR CONNECT",display:"Timeout To Reconnect",found:!1,warning:"red",blink:!1},{details:"Waiting for EVSE to be ready!",display:"Waiting for EVSE to be ready!",found:!1,warning:"false",blink:!1},{details:"wrong protocol for pev",display:"Wrong protocol is detected on PEV side",found:!1,warning:"red",blink:!0},{details:"wrong protocol for evse",display:"Wrong protocol is detected on EVSE side",found:!1,warning:"red",blink:!0},{details:"System is not completed, Power ON Evse Simulator",display:"System is not completed, Power ON Evse Simulator",found:!1,warning:"red",blink:!0},{details:"Power On PEV and Restart the Page",display:"Power On PEV and Restart the Page",found:!1,warning:"red",blink:!1}]}},{key:"setTimedoutStartCommand",value:function(e){var t=this,s=e;console.log("setTimedoutStartCommand | begin"),this.timeoutStartInterval=setInterval((function(){s-- >1?(t.pevStrings[12].display="Reconnecting in "+s+" sec(s).",t.pevStrings[12].found=!0,t.pevStrings[12].warning="green",console.log("setTimedoutStartCommand | set text to ",t.pevStrings[12].display),t.setState({printOutCom:t.printOutCom,toggleToRefresh:!t.state.toggleToRefresh,role:t.state.role,percentage:t.state.percentage,started:!0,continuousTest:t.state.continuousTest,pevProtocol:t.state.pevProtocol,pevDeviceState:t.state.pevDeviceState,pevHpgState:t.state.pevHpgState,evseProtocol:t.state.evseProtocol,evseAmplitude:t.state.evseAmplitude,evseDeviceState:t.state.evseDeviceState,evseHpgState:t.state.evseHpgState,timeoutFound:t.state.timeoutFound})):(t.pevStrings[12].found=!1,console.log("setTimedoutStartCommand | SEND start"),t.pevSendStartCommand(),t.setState({printOutCom:t.printOutCom,toggleToRefresh:!t.state.toggleToRefresh,role:t.state.role,percentage:t.state.percentage,started:!0,continuousTest:t.state.continuousTest,pevProtocol:t.state.pevProtocol,pevDeviceState:t.state.pevDeviceState,pevHpgState:t.state.pevHpgState,evseProtocol:t.state.evseProtocol,evseAmplitude:t.state.evseAmplitude,evseDeviceState:t.state.evseDeviceState,evseHpgState:t.state.evseHpgState,timeoutFound:t.state.timeoutFound}),clearInterval(t.timeoutStartInterval))}),1e3)}},{key:"setTimedoutStopCommand",value:function(e){var t=this,s=e;this.timeoutStopInterval=setInterval((function(){s-- >0?(t.pevStrings[11].display="Disconnecting in "+s+" sec(s).",t.pevStrings[11].found=!0,t.pevStrings[11].warning="green",console.log("setInterval | set text to ",t.pevStrings[11].display),t.setState({printOutCom:t.printOutCom,toggleToRefresh:!t.state.toggleToRefresh,role:t.state.role,percentage:t.state.percentage,started:!0,continuousTest:t.state.continuousTest,pevProtocol:t.state.pevProtocol,pevDeviceState:t.state.pevDeviceState,pevHpgState:t.state.pevHpgState,evseProtocol:t.state.evseProtocol,evseAmplitude:t.state.evseAmplitude,evseDeviceState:t.state.evseDeviceState,evseHpgState:t.state.evseHpgState,timeoutFound:t.state.timeoutFound})):(console.log("setInterval | SEND Stop"),t.pevSendStopCommand(),t.pevStrings[11].found=!1,clearInterval(t.timeoutStopInterval))}),1e3)}},{key:"componentDidMount",value:function(){this.OpenReadComPort()}},{key:"ExtractDeviceStatus_HpgState",value:function(e){var t=e.substring(e.indexOf("Device State :")+15);t=t.substring(0,t.indexOf(" ")),t=parseInt(t,10);var s=e.substring(e.indexOf("hpg_state:")+10);return s=s.substring(0,s.indexOf(" ")),{deviceState:t,hpgState:parseInt(s,10)}}},{key:"ExtractDeviceStatus_Amplitude",value:function(e){var t=e.substring(e.indexOf("Amplitude:")+10);return t=parseInt(t,10)}},{key:"ProcessSplittedCommand",value:function(e){var t=!1;if(e.length>5)if(console.log("sCommand ",e),e.includes("PEER")){if(e.includes("}")){this.pevStrings[16].found=!1,this.peerMessageRcvTimestamp=Date.now();var s=e.substring(e.indexOf("PEER-")+5);try{var i=JSON.parse(s);"PLC"===i.protocol?this.pevStrings[15].found=!1:this.pevStrings[15].found=!0,0===i.deviceState&&9===i.hpgState&&(this.pevStrings[13].found=!1),this.setState({printOutCom:this.printOutCom,toggleToRefresh:!this.state.toggleToRefresh,role:this.state.role,percentage:this.state.percentage,started:this.state.started,continuousTest:this.state.continuousTest,pevProtocol:this.state.pevProtocol,pevDeviceState:this.state.pevDeviceState,pevHpgState:this.state.pevHpgState,evseProtocol:i.protocol,evseAmplitude:i.amplitude,evseDeviceState:i.deviceState,evseHpgState:i.hpgState,timeoutFound:this.state.timeoutFound})}catch(l){return!1}}e.includes("LOG - SLAC - CM_SET_KEY.CNF set.")&&(console.log(">>>>>>>>>TRY CONTINUOS MODE"),t=!0,!0===this.state.continuousTest&&(console.log(">>>>>>>>>TRY CONTINUOS MODE okkkkkkkkkkkkk"),this.setTimedoutStartCommand(35)))}else{if(e.includes("protocol")){var a=e.substring(e.indexOf("PEV-")+4);try{var o=JSON.parse(a);"PLC"===o.protocol?this.pevStrings[14].found=!1:this.pevStrings[14].found=!0,this.setState({printOutCom:this.printOutCom,toggleToRefresh:!this.state.toggleToRefresh,role:this.state.role,percentage:this.state.percentage,started:this.state.started,continuousTest:this.state.continuousTest,pevProtocol:o.protocol,pevDeviceState:o.deviceState,pevHpgState:o.hpgState,evseProtocol:this.state.evseProtocol,evseAmplitude:this.state.evseAmplitude,evseDeviceState:this.state.evseDeviceState,evseHpgState:this.state.evseHpgState,timeoutFound:this.state.timeoutFound})}catch(l){}}for(var n=0;n<this.pevStrings.length;n++)if(e.includes(this.pevStrings[n].details)&&!1===this.pevStrings[n].found){if(this.pevStrings[n].found=!0,t=!0,8===n){var r=e.split(":");r.length>1&&(this.pevStrings[8].display="Link Measurement: "+Number(r[1].trim())+"ms.",this.linkMeasurements.push(r[1].trim()))}else 10===n&&!0===this.state.continuousTest?this.setTimedoutStopCommand(10):11===n&&(console.warn("ProcessSplittedCommand  | this.linkMeasurements.push(Timeout) "),this.pevStrings[n].display=e,this.linkMeasurements.push("Timeout"),!0===this.state.continuousTest&&this.setTimedoutStopCommand(20),this.setState({printOutCom:this.state.printOutCom,toggleToRefresh:!this.state.toggleToRefresh,role:this.state.role,percentage:this.state.percentage,started:this.state.started,continuousTest:this.state.continuousTest,pevProtocol:this.state.pevProtocol,pevDeviceState:this.state.pevDeviceState,pevHpgState:this.state.pevHpgState,evseProtocol:this.state.evseProtocol,evseAmplitude:this.state.evseAmplitude,evseDeviceState:this.state.evseDeviceState,evseHpgState:this.state.evseHpgState,timeoutFound:!0}));break}if(!0===t){var c=this.state.percentage+1/11*100;c>=90&&(c=100),c=Math.round(c),console.warn("percCalc : ",c),this.setState({printOutCom:this.printOutCom,toggleToRefresh:!this.state.toggleToRefresh,role:this.role,percentage:c,started:!0,continuousTest:this.state.continuousTest,pevProtocol:this.state.pevProtocol,pevDeviceState:this.state.pevDeviceState,pevHpgState:this.state.pevHpgState,evseProtocol:this.state.evseProtocol,evseAmplitude:this.state.evseAmplitude,evseDeviceState:this.state.evseDeviceState,evseHpgState:this.state.evseHpgState,timeoutFound:this.state.timeoutFound})}}}},{key:"ProcessRawData",value:function(){var e=this,t=this.rawData.split("*");t.length>1&&(t.forEach((function(t){e.ProcessSplittedCommand(t)})),this.rawData=t[t.length-1])}},{key:"ReadValues",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.portReader.read();case 3:t=e.sent,this.connectionLost=!1,this.rawData+=new TextDecoder("utf-8").decode(t.value),this.ProcessRawData(),this.pevStrings[17].found=!1,e.next=17;break;case 10:return e.prev=10,e.t0=e.catch(0),console.error("READ VALUES ERROR ",e.t0),this.connectionLost=!0,this.pevStrings[17].found=!0,this.setState({printOutCom:this.printOutCom,toggleToRefresh:!this.state.toggleToRefresh,role:this.state.role,percentage:this.state.percentage,started:this.state.started,continuousTest:this.state.continuousTest,pevProtocol:this.state.pevProtocol,pevDeviceState:-1,pevHpgState:-1,evseProtocol:this.state.evseProtocol,evseAmplitude:this.state.evseAmplitude,evseDeviceState:-1,evseHpgState:-1,timeoutFound:this.state.timeoutFound}),e.abrupt("break",19);case 17:e.next=0;break;case 19:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"OpenReadComPort",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("OpenReadComPort | begin"),console.log("Port..",this.props.port),t=this.props.port,e.prev=3,e.next=6,t.port.open({baudRate:115200});case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(3),t.port.close(),e.next=13,t.port.open({baudRate:115200});case 13:this.portReader=t.port.readable.getReader(),this.portWriter=t.port.writable.getWriter(),setTimeout((function(){s.ReadValues()}),0),this.gatheringInformationInterval=setInterval((function(){if(!s.connectionLost){var e=new Uint8Array([114]);s.portWriter.write(e).then((function(e){})),(Date.now()-s.peerMessageRcvTimestamp>6e3||-1===s.state.evseDeviceState&&-1===s.state.evseHpgState)&&(console.error("Connection lost to EVSE"),s.initializePEVStrings(),s.pevStrings[16].found=!0,s.setState({printOutCom:s.printOutCom,toggleToRefresh:!s.state.toggleToRefresh,role:s.state.role,percentage:s.state.percentage,started:s.state.started,continuousTest:s.state.continuousTest,pevProtocol:s.state.pevProtocol,pevDeviceState:s.state.pevDeviceState,pevHpgState:s.state.pevHpgState,evseProtocol:s.state.evseProtocol,evseAmplitude:s.state.evseAmplitude,evseDeviceState:-1,evseHpgState:-1,timeoutFound:s.state.timeoutFound}))}}),2e3),console.log("OpenReadComPort | end");case 18:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(){return e.apply(this,arguments)}}()}]),Object(p.a)(s,[{key:"resetLinkMeasurementsList",value:function(){this.linkMeasurements=[],this.setState({printOutCom:this.printOutCom,toggleToRefresh:!this.state.toggleToRefresh,role:this.state.role,percentage:this.state.percentage,started:this.state.started,continuousTest:this.state.continuousTest,pevProtocol:this.state.pevProtocol,pevDeviceState:this.state.pevDeviceState,pevHpgState:this.state.pevHpgState,evseProtocol:this.state.evseProtocol,evseAmplitude:this.state.evseAmplitude,evseDeviceState:this.state.evseDeviceState,evseHpgState:this.state.evseHpgState,timeoutFound:this.state.timeoutFound})}},{key:"showDetailedProgress",value:function(){return null!=this.pevStrings&&this.pevStrings.length>0?this.pevStrings.map((function(e,t){return e.found?"false"===e.warning?13===t?Object(i.jsx)("p",{children:e.display},"detailed_"+t):Object(i.jsxs)("p",{children:[e.display,t<15?".......................................OK":""]},"detailed_"+t):"green"===e.warning?Object(i.jsx)("p",{style:{color:"#00cc00",textShadow:"0 0 0.4em #00cc00"},id:"greenTextFeature",children:e.display},"detailed_"+t):e.blink?Object(i.jsx)("p",{style:{color:"#c20b0b",textShadow:"0 0 0.4em #c20b0b"},id:"warningTextFeature",children:e.display},"detailed_"+t):Object(i.jsx)("p",{style:{color:"#c20b0b",textShadow:"0 0 0.4em #c20b0b"},children:e.display},"detailed_"+t):null})):null}},{key:"showLinkPanel",value:function(){return null!=this.linkMeasurements&&this.linkMeasurements.length>0?Object(i.jsx)("div",{id:"linkpanelid1",children:Object(i.jsx)("div",{className:"ui panel",children:Object(i.jsxs)("div",{className:"ui panel content",children:[this.linkMeasurements.map((function(e,t){return"Timeout"===e?Object(i.jsxs)("div",{children:[Object(i.jsx)("strong",{style:{color:"#c20b0b",textShadow:"0 0 0.4em #c20b0b"},children:e},"mykey"+t),Object(i.jsx)("br",{})]},"mydivkey"+t):Object(i.jsxs)("div",{children:[Object(i.jsx)("strong",{children:"Link Time"},"mykey"+t)," ",e," ms.",Object(i.jsx)("br",{})]},"mydivkey"+t)})),Object(i.jsxs)("div",{style:{textAlign:"right",justifyContent:"right",float:"right",height:"50px",width:"50px"},children:[" ",Object(i.jsx)("div",{className:"linkMeasurementsReset ",onClick:this.resetLinkMeasurementsList})," "]})]})})}):null}},{key:"setContinuosState",value:function(){this.setState({printOutCom:this.printOutCom,toggleToRefresh:this.state.toggleToRefresh,role:this.state.role,percentage:this.state.percentage,started:this.state.started,continuousTest:!this.state.continuousTest,pevProtocol:this.state.pevProtocol,pevDeviceState:this.state.pevDeviceState,pevHpgState:this.state.pevHpgState,evseProtocol:this.state.evseProtocol,evseDeviceState:this.state.evseDeviceState,evseAmplitude:this.state.evseAmplitude,evseHpgState:this.state.evseHpgState,timeoutFound:this.state.timeoutFound})}},{key:"render",value:function(){return console.log("Continuos Mode",this.state.continuousTest,"PEV ",this.state.pevProtocol," --- ",this.state.pevDeviceState,this.state.pevHpgState," EVSE ",this.state.evseProtocol," --- ",this.state.evseDeviceState,this.state.evseHpgState,"Amp",this.state.evseAmplitude,"timeoutFound ",this.state.timeoutFound),"PLC"===this.state.pevProtocol&&"PLC"===this.state.evseProtocol?Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{className:"cs",children:"FoE-Charger"}),Object(i.jsxs)("div",{className:"circle cir",children:[Object(i.jsx)("p",{className:"c",children:"F"}),Object(i.jsx)("div",{className:"circle one"}),Object(i.jsx)("div",{className:"circle two",children:Object(i.jsx)("div",{className:"circle three"})})]}),Object(i.jsxs)("div",{className:"wrapper",children:[Object(i.jsx)("div",{className:"bar left"}),Object(i.jsx)("div",{className:"bar top"}),Object(i.jsx)("div",{className:"bar right"}),Object(i.jsx)("div",{className:"bar bottom"}),Object(i.jsx)("br",{}),Object(i.jsxs)(j.a,{container:!0,children:[Object(i.jsx)(j.a,{item:!0,xs:2}),Object(i.jsx)(j.a,{item:!0,xs:2,children:0===this.state.pevDeviceState&&0===this.state.evseDeviceState&&9===this.state.pevHpgState&&9===this.state.evseHpgState&&1===this.state.evseAmplitude?Object(i.jsx)("div",{className:"Action_button_1",onClick:this.pevSendStartCommand}):null}),Object(i.jsx)(j.a,{item:!0,xs:2,children:11===this.state.pevDeviceState&&10===this.state.evseDeviceState&&11===this.state.pevHpgState&&11===this.state.evseHpgState||this.state.timeoutFound?Object(i.jsx)("div",{className:"Action_button_2",onClick:this.pevSendStopCommand}):null}),Object(i.jsx)(j.a,{item:!0,xs:2,children:Object(i.jsxs)("div",{style:{marginTop:"20px"},children:[Object(i.jsx)("span",{className:"continuousText",children:"Continuous Test"}),this.state.continuousTest?Object(i.jsx)("div",{style:{marginLeft:"30px"},className:"continuousSelectionSelected",onClick:this.setContinuosState}):Object(i.jsx)("div",{style:{marginLeft:"30px"},className:"continuousSelectionUnselected",onClick:this.setContinuosState})]})}),Object(i.jsx)(j.a,{item:!0,xs:2}),Object(i.jsx)(j.a,{item:!0,xs:2,children:Object(i.jsxs)("div",{className:"parentWheel",children:[Object(i.jsx)("div",{className:"Outer_wheel"}),Object(i.jsx)("div",{className:"Wheel_Base"}),this.state.started?Object(i.jsx)("div",{className:"Ineer_wheel Ineer_wheel_Animation"}):Object(i.jsx)("div",{className:"Ineer_wheel"}),Object(i.jsxs)("div",{className:"Percentage_wheel",children:[Object(i.jsx)("span",{id:"percentage",children:this.state.percentage}),"%"]})]})})]}),Object(i.jsxs)(j.a,{container:!0,children:[Object(i.jsx)(j.a,{item:!0,xs:6,children:this.showDetailedProgress()}),Object(i.jsx)(j.a,{item:!0,xs:6,children:this.showLinkPanel()})]})]})]}):Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{className:"cs",children:"FoE-Charger"}),Object(i.jsxs)("div",{className:"circle cir",children:[Object(i.jsx)("p",{className:"c",children:"F"}),Object(i.jsx)("div",{className:"circle one"}),Object(i.jsx)("div",{className:"circle two",children:Object(i.jsx)("div",{className:"circle three"})})]}),Object(i.jsxs)("div",{className:"wrapper",children:[Object(i.jsx)("div",{className:"bar left"}),Object(i.jsx)("div",{className:"bar top"}),Object(i.jsx)("div",{className:"bar right"}),Object(i.jsx)("div",{className:"bar bottom"}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)(j.a,{container:!0,children:Object(i.jsx)(j.a,{item:!0,xs:6,children:this.showDetailedProgress()})})]})]})}}]),s}(a.Component)),f=s(20),O=s(4),x=s(34);s(49);function C(){return Object(i.jsxs)("div",{className:"bodyWrapper",children:[Object(i.jsx)("header",{children:Object(i.jsxs)("div",{className:"signBlock",children:[Object(i.jsx)("div",{className:"topCover"}),Object(i.jsx)("div",{className:"headerContent",children:Object(i.jsxs)("div",{className:"headerLinks",children:[Object(i.jsx)("h1",{children:"PONTIS EMC"}),Object(i.jsx)("div",{className:"signLinks",children:Object(i.jsx)("h3",{children:"Test Web Interface"})})]})}),Object(i.jsx)("div",{className:"boxEdges1",children:Object(i.jsxs)("div",{className:"boxEdges2",children:[Object(i.jsx)("div",{className:"slider"}),Object(i.jsx)("div",{className:"headerLine"})]})})]})}),Object(i.jsx)(x.a,{children:function(e){var t=e.toggle,s=e.setCollapsibleElement;return Object(i.jsxs)("div",{className:"my-collapsible",children:[Object(i.jsxs)("div",{id:"navButton",className:"open",onClick:t,children:["- Menu -",Object(i.jsx)("div",{className:"bar left"}),Object(i.jsx)("div",{className:"bar top"}),Object(i.jsx)("div",{className:"bar right"}),Object(i.jsx)("div",{className:"bar bottom"})]}),Object(i.jsx)("div",{className:"my-collapsible__content",ref:s,children:Object(i.jsx)("div",{className:"my-collapsible__content-inner",children:Object(i.jsxs)("div",{className:"navContent",children:[Object(i.jsx)(f.b,{to:"ccs",children:"CCS"})," |",Object(i.jsx)(f.b,{to:"chademo",children:"ChadeMo"})," |",Object(i.jsx)(f.b,{to:"about",children:"About"})," |",Object(i.jsx)(f.b,{to:"contact",children:"Contact"})]})})})]})}}),Object(i.jsx)("body-container",{}),Object(i.jsx)("footer",{})]})}var P=s(25),T=(s(51),0),k="Ex aliquip nisi velit eu quis Lorem ullamco labore irure veniam. Excepteur non velit nisi qui sint ad excepteur. Do sit proident occaecat ea ullamco nostrud exercitation incididunt qui cupidatat consectetur. Id veniam cillum dolore sunt duis minim cupidatat eu.Sunt consequat excepteur tempor do elit non cillum ex incididunt. Dolor qui incididunt qui cupidatat laborum officia duis pariatur occaecat cupidatat aliqua Lorem laborum. Commodo dolor ad eu anim nostrud veniam sunt velit. Do amet sit ea tempor sint adipisicing magna exercitation commodo laboris veniam commodo. Laboris nulla ipsum in incididunt non incididunt exercitation proident qui occaecat cupidatat ipsum aliqua aliqua. Pariatur eu Lorem nostrud exercitation nulla ea minim laborum amet cupidatat officia adipisicing. Fugiat dolore est qui voluptate incididunt aute fugiat non laborum.";function y(){var e=o.a.useState(""),t=Object(P.a)(e,2),s=t[0],n=t[1];return Object(a.useEffect)((function(){var e=setInterval((function(){++T<k.length&&n(k.substr(0,T))}),50);return function(){return clearInterval(e)}}),[]),Object(i.jsxs)("div",{children:[s,Object(i.jsx)("span",{className:"blinker",children:" "})]})}s(52);var D=0,w="Ipsum esse anim dolor in aliqua. Consectetur ad nostrud nisi ea dolor pariatur. Irure fugiat ipsum adipisicing incididunt eu sint nulla. Nisi fugiat magna eiusmod nostrud consequat fugiat velit labore duis occaecat Lorem aliquip. Duis aliqua id do cillum occaecat occaecat aliquip deserunt. Cillum incididunt magna excepteur est quis proident in aute amet est in mollit.";function N(){var e=o.a.useState(""),t=Object(P.a)(e,2),s=t[0],n=t[1];return Object(a.useEffect)((function(){var e=setInterval((function(){++D<w.length&&n(w.substr(0,D))}),50);return function(){return clearInterval(e)}}),[]),Object(i.jsxs)("div",{children:[s,Object(i.jsx)("span",{className:"blinker",children:" "})]})}s(53),s(54);var E=function(e){Object(h.a)(s,e);var t=Object(m.a)(s);function s(e){var i;return Object(u.a)(this,s),(i=t.call(this,e)).theme=Object(g.a)(Object(S.a)({typography:{h1:{fontSize:200},h2:{fontSize:15}}})),i.portReader={},i.portWriter={},i.rawData="",i.role="",i.state={printOutCom:"",toggleToRefresh:!1,role:"PEV",checked:!1,percentage:0,started:!1,continuousTest:!1,pevProtocol:"",pevDeviceState:-1,evseProtocol:"",evseDeviceState:-1,timeoutFound:!1},i.queryInterval={},i.initializePEVStrings(),i.pevSendStartCommand=i.pevSendStartCommand.bind(Object(v.a)(i)),i.handleContToggleSwitch=i.handleContToggleSwitch.bind(Object(v.a)(i)),i.showDetailedProgress=i.showDetailedProgress.bind(Object(v.a)(i)),i.showLinkPanel=i.showLinkPanel.bind(Object(v.a)(i)),i.setContinuosState=i.setContinuosState.bind(Object(v.a)(i)),i.resetLinkMeasurementsList=i.resetLinkMeasurementsList.bind(Object(v.a)(i)),i.linkMeasurements=[],i.timeoutStartInterval={},i.gatheringInformationInterval={},i}return Object(p.a)(s,[{key:"pevSendStartCommand",value:function(){this.initializePEVStrings(),console.log("Send Start Command");var e=new Uint8Array([32]);this.portWriter.write(e).then((function(e){console.error("Write ' ' for start... ")})),this.setState({printOutCom:this.printOutCom,toggleToRefresh:this.toggleToRefresh,role:this.state.role,percentage:0,started:!0,continuousTest:this.state.continuousTest,pevProtocol:this.state.pevProtocol,pevDeviceState:this.state.pevDeviceState,evseProtocol:this.state.evseProtocol,evseDeviceState:this.state.evseDeviceState,timeoutFound:this.state.timeoutFound})}},{key:"handleContToggleSwitch",value:function(e){}},{key:"initializePEVStrings",value:function(){this.pevStrings=[{details:"Event | Detected | t0",display:"EVSE | Detected | t0",found:!1,warning:"false"},{details:"Event | Set | t1",display:"EVSE | Set | t1",found:!1,warning:"false"},{details:"Event | Detected | t1",display:"PEV | Detected | t1",found:!1,warning:"false"},{details:"Event | Set | t2",display:"PEV | Set | t2",found:!1,warning:"false"},{details:"Event | Detected | t2",display:" EVSE | Detected | t2",found:!1,warning:"false"},{details:"Event | Set | t3",display:"EVSE | Set | t3",found:!1,warning:"false"},{details:"Event | Detected | t3",display:"PEV | Detected | t3",found:!1,warning:"false"},{details:"Event | Message Exchange | Sending",display:"CAN Message | Sending",found:!1,warning:"false"},{details:"Event | Message Exchange | Received",display:"CAN Message | Received",found:!1,warning:"false"},{details:"Event | Set | t4",display:"PEV | Set | t4",found:!1,warning:"false"},{details:"Event | Detected | t4",display:"EVSE | Detected | t4",found:!1,warning:"false"},{details:"Event | Set | t5",display:"EVSE | Set | t5",found:!1,warning:"false"},{details:"Event | Set | t6",display:"EVSE | Set | t6",found:!1,warning:"false"},{details:"Event | Set | t7",display:"EVSE | Set | t7",found:!1,warning:"false"},{details:"Event | Set | t7",display:"EVSE | Set | t7",found:!1,warning:"false"},{details:"wrong protocol for pev",display:"Wrong protocol is detected on PEV side",found:!1,warning:"red"},{details:"wrong protocol for evse",display:"Wrong protocol is detected on EVSE side",found:!1,warning:"red"},{details:"Timeout",display:"Timeout",found:!1,warning:"red"},{details:"System is not completed, Power ON Evse Simulator",display:"System is not completed, Power ON Evse Simulator",found:!1,warning:"red",blink:!0},{details:"Power On PEV and Restart the Page",display:"Power On PEV and Restart the Page",found:!1,warning:"red",blink:!1}]}},{key:"setTimedoutStartCommand",value:function(e){var t=this,s=e;console.log("setTimedoutStartCommand | begin"),this.timeoutStartInterval=setInterval((function(){s-- >1?(t.pevStrings[14].display="Reconnecting in "+s+" sec(s).",t.pevStrings[14].found=!0,t.pevStrings[14].warning="green",console.log("setTimedoutStartCommand | set text to ",t.pevStrings[12].display),t.setState({printOutCom:t.printOutCom,toggleToRefresh:!t.state.toggleToRefresh,role:t.state.role,percentage:t.state.percentage,started:!0,continuousTest:t.state.continuousTest,pevProtocol:t.state.pevProtocol,pevDeviceState:t.state.pevDeviceState,evseProtocol:t.state.evseProtocol,evseDeviceState:t.state.evseDeviceState,timeoutFound:t.state.timeoutFound})):(t.pevStrings[14].found=!1,console.log("setTimedoutStartCommand | SEND start"),t.pevSendStartCommand(),t.setState({printOutCom:t.printOutCom,toggleToRefresh:!t.state.toggleToRefresh,role:t.state.role,percentage:t.state.percentage,started:!0,continuousTest:t.state.continuousTest,pevProtocol:t.state.pevProtocol,pevDeviceState:t.state.pevDeviceState,evseProtocol:t.state.evseProtocol,evseDeviceState:t.state.evseDeviceState,timeoutFound:t.state.timeoutFound}),clearInterval(t.timeoutStartInterval))}),1e3)}},{key:"ExtractDeviceStatus",value:function(e){var t=e.substring(e.indexOf("Device State :")+15);return{deviceState:t=parseInt(t,10)}}},{key:"componentDidMount",value:function(){this.OpenReadComPort()}},{key:"ProcessSplittedCommand",value:function(e){var t=!1;if(e.length>5)if(console.log("ProcessSplittedCommand ",e),e.includes("PEER")&&e.includes("}")){var s=e.substring(e.indexOf("PEER-")+5);this.peerMessageRcvTimestamp=Date.now(),this.pevStrings[18].found=!1;try{var i=JSON.parse(s);"PLC"===i.protocol?this.pevStrings[16].found=!0:this.pevStrings[16].found=!1,this.setState({printOutCom:this.printOutCom,toggleToRefresh:!this.state.toggleToRefresh,role:this.state.role,percentage:this.state.percentage,started:this.state.started,continuousTest:this.state.continuousTest,pevProtocol:this.state.pevProtocol,pevDeviceState:this.state.pevDeviceState,evseProtocol:i.protocol,evseDeviceState:i.deviceState,timeoutFound:this.state.timeoutFound})}catch(c){return!1}}else{if(e.includes("protocol")&&e.includes("}")){var a=e.substring(e.indexOf("PEV-")+4);try{var o=JSON.parse(a);"PLC"===o.protocol?this.pevStrings[15].found=!0:this.pevStrings[15].found=!1,this.setState({printOutCom:this.printOutCom,toggleToRefresh:!this.state.toggleToRefresh,role:this.state.role,percentage:this.state.percentage,started:this.state.started,continuousTest:this.state.continuousTest,pevProtocol:o.protocol,pevDeviceState:o.deviceState,evseProtocol:this.state.evseProtocol,evseDeviceState:this.state.evseDeviceState,timeoutFound:this.state.timeoutFound})}catch(c){return!1}}for(var n=0;n<this.pevStrings.length;n++)if(e.includes(this.pevStrings[n].details)&&!1===this.pevStrings[n].found){this.pevStrings[n].found=!0,t=!0,13===n&&!0===this.state.continuousTest&&this.setTimedoutStartCommand(5),17===n&&(this.pevStrings[n].display=e.substring(e.indexOf("Timeout")));break}if(!0===t){console.warn("OKKKKKKKK");var r=this.state.percentage+1/14*100;r>=90&&(r=100),r=Math.round(r),this.setState({printOutCom:this.printOutCom,toggleToRefresh:!this.state.toggleToRefresh,role:this.role,percentage:r,started:!0,continuousTest:this.state.continuousTest,pevProtocol:this.state.pevProtocol,pevDeviceState:this.state.pevDeviceState,evseProtocol:this.state.evseProtocol,evseDeviceState:this.state.evseDeviceState,timeoutFound:this.state.timeoutFound})}}}},{key:"ProcessRawData",value:function(){var e=this,t=this.rawData.split("*");t.length>1&&(t.forEach((function(t){e.ProcessSplittedCommand(t)})),this.rawData=t[t.length-1])}},{key:"ReadValues",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.portReader.read();case 3:t=e.sent,this.connectionLost=!1,this.rawData+=new TextDecoder("utf-8").decode(t.value),this.ProcessRawData(),this.pevStrings[19].found=!1,e.next=17;break;case 10:return e.prev=10,e.t0=e.catch(0),console.error("READ VALUES ERROR ",e.t0),this.connectionLost=!0,this.pevStrings[19].found=!0,this.setState({printOutCom:this.printOutCom,toggleToRefresh:!this.state.toggleToRefresh,role:this.state.role,percentage:this.state.percentage,started:this.state.started,continuousTest:this.state.continuousTest,pevProtocol:this.state.pevProtocol,pevDeviceState:-1,evseProtocol:this.state.evseProtocol,evseDeviceState:-1,timeoutFound:this.state.timeoutFound}),e.abrupt("break",19);case 17:e.next=0;break;case 19:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"OpenReadComPort",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("OpenReadComPort | begin"),console.log("Port..",this.props.port),t=this.props.port,e.prev=3,e.next=6,t.port.open({baudRate:115200});case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(3),t.port.close(),e.next=13,t.port.open({baudRate:115200});case 13:this.portReader=t.port.readable.getReader(),this.portWriter=t.port.writable.getWriter(),setTimeout((function(){s.ReadValues()}),0),this.gatheringInformationInterval=setInterval((function(){if(!s.connectionLost){var e=new Uint8Array([114]);s.portWriter.write(e).then((function(e){}));var t=Date.now()-s.peerMessageRcvTimestamp;console.log("peerMessageRcvTimestamp >>> millis ",t),(void 0===s.peerMessageRcvTimestamp||t>6e3||-1===s.state.evseDeviceState&&-1===s.state.evseHpgState)&&(console.log("peerMessageRcvTimestamp >>> 1"),console.error("Connection lost to EVSE"),s.initializePEVStrings(),s.pevStrings[18].found=!0,s.setState({printOutCom:s.printOutCom,toggleToRefresh:!s.state.toggleToRefresh,role:s.state.role,percentage:s.state.percentage,started:s.state.started,continuousTest:s.state.continuousTest,pevProtocol:s.state.pevProtocol,pevDeviceState:s.state.pevDeviceState,evseProtocol:-1,evseDeviceState:-1,timeoutFound:s.state.timeoutFound}))}}),2e3),console.log("OpenReadComPort | end");case 18:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(){return e.apply(this,arguments)}}()}]),Object(p.a)(s,[{key:"resetLinkMeasurementsList",value:function(){this.linkMeasurements=[],this.setState({printOutCom:this.printOutCom,toggleToRefresh:!this.state.toggleToRefresh,role:this.state.role,percentage:this.state.percentage,started:this.state.started,continuousTest:this.state.continuousTest,pevProtocol:this.state.pevProtocol,pevDeviceState:this.state.pevDeviceState,evseProtocol:this.state.evseProtocol,evseDeviceState:this.state.evseDeviceState,timeoutFound:this.state.timeoutFound})}},{key:"showDetailedProgress",value:function(){return null!=this.pevStrings&&this.pevStrings.length>0?this.pevStrings.map((function(e,t){return e.found?"false"===e.warning?Object(i.jsxs)("p",{children:[e.display,t<15?"................OK":""]},"detailed_"+t):"green"===e.warning?Object(i.jsx)("p",{style:{color:"#00cc00",textShadow:"0 0 0.4em #00cc00"},id:"greenTextFeature",children:e.display},"detailed_"+t):Object(i.jsx)("p",{style:{color:"#c20b0b",textShadow:"0 0 0.4em #c20b0b"},id:"warningTextFeature",children:e.display},"detailed_"+t):null})):null}},{key:"showLinkPanel",value:function(){return console.log("Show Link Panel",this.linkMeasurements.length),null!=this.linkMeasurements&&this.linkMeasurements.length>0?Object(i.jsx)("div",{id:"linkpanelid1",children:Object(i.jsx)("div",{className:"ui panel",children:Object(i.jsxs)("div",{className:"ui panel content",children:[this.linkMeasurements.map((function(e,t){return"Timeout"===e?Object(i.jsxs)("div",{children:[Object(i.jsx)("strong",{style:{color:"#c20b0b",textShadow:"0 0 0.4em #c20b0b"},children:e},"mykey"+t),Object(i.jsx)("br",{})]},"mydivkey"+t):Object(i.jsxs)("div",{children:[Object(i.jsx)("strong",{children:"Link Time"},"mykey"+t)," ",e," ms.",Object(i.jsx)("br",{})]},"mydivkey"+t)})),Object(i.jsxs)("div",{style:{textAlign:"right",justifyContent:"right",float:"right",height:"50px",width:"50px"},children:[" ",Object(i.jsx)("div",{className:"linkMeasurementsReset ",onClick:this.resetLinkMeasurementsList})," "]})]})})}):null}},{key:"setContinuosState",value:function(){this.setState({printOutCom:this.printOutCom,toggleToRefresh:this.state.toggleToRefresh,role:this.state.role,percentage:this.state.percentage,started:this.state.started,continuousTest:!this.state.continuousTest,pevProtocol:this.state.pevProtocol,pevDeviceState:this.state.pevDeviceState,evseProtocol:this.state.evseProtocol,evseDeviceState:this.state.evseDeviceState,timeoutFound:this.state.timeoutFound})}},{key:"render",value:function(){return console.log("Continuos Mode",this.state.continuousTest,"PEV ",this.state.pevProtocol," --- ",this.state.pevDeviceState," EVSE ",this.state.evseProtocol," --- ",this.state.evseDeviceState,this.state.evseHpgState,"timeoutFound ",this.state.timeoutFound),"Chademo"===this.state.pevProtocol&&"Chademo"===this.state.evseProtocol?(console.log("DeviceState | PEV ",this.state.pevDeviceState," EVSE ",this.state.evseDeviceState),Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{className:"cs",children:"FoE-Charger"}),Object(i.jsxs)("div",{className:"circle cir",children:[Object(i.jsx)("p",{className:"c",children:"F"}),Object(i.jsx)("div",{className:"circle one"}),Object(i.jsx)("div",{className:"circle two",children:Object(i.jsx)("div",{className:"circle three"})})]}),Object(i.jsxs)("div",{className:"wrapper",children:[Object(i.jsx)("div",{className:"bar left"}),Object(i.jsx)("div",{className:"bar top"}),Object(i.jsx)("div",{className:"bar right"}),Object(i.jsx)("div",{className:"bar bottom"}),Object(i.jsx)("br",{}),Object(i.jsxs)(j.a,{container:!0,children:[Object(i.jsx)(j.a,{item:!0,xs:2}),Object(i.jsx)(j.a,{item:!0,xs:4,children:0!==this.state.pevDeviceState&&4!==this.state.pevDeviceState||0!==this.state.evseDeviceState?null:Object(i.jsx)("div",{className:"Action_button_1",onClick:this.pevSendStartCommand})}),Object(i.jsx)(j.a,{item:!0,xs:2,children:Object(i.jsxs)("div",{style:{marginTop:"20px"},children:[Object(i.jsx)("span",{className:"continuousText",children:"Continuous Test"}),this.state.continuousTest?Object(i.jsx)("div",{style:{marginLeft:"30px"},className:"continuousSelectionSelected",onClick:this.setContinuosState}):Object(i.jsx)("div",{style:{marginLeft:"30px"},className:"continuousSelectionUnselected",onClick:this.setContinuosState})]})}),Object(i.jsx)(j.a,{item:!0,xs:2}),Object(i.jsx)(j.a,{item:!0,xs:2,children:Object(i.jsxs)("div",{className:"parentWheel",children:[Object(i.jsx)("div",{className:"Outer_wheel"}),Object(i.jsx)("div",{className:"Wheel_Base"}),this.state.started?Object(i.jsx)("div",{className:"Ineer_wheel Ineer_wheel_Animation"}):Object(i.jsx)("div",{className:"Ineer_wheel"}),Object(i.jsxs)("div",{className:"Percentage_wheel",children:[Object(i.jsx)("span",{id:"percentage",children:this.state.percentage}),"%"]})]})})]}),Object(i.jsxs)(j.a,{container:!0,children:[Object(i.jsx)(j.a,{item:!0,xs:6,children:this.showDetailedProgress()}),Object(i.jsx)(j.a,{item:!0,xs:6,children:this.showLinkPanel()})]})]})]})):Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{className:"cs",children:"FoE-Charger"}),Object(i.jsxs)("div",{className:"circle cir",children:[Object(i.jsx)("p",{className:"c",children:"F"}),Object(i.jsx)("div",{className:"circle one"}),Object(i.jsx)("div",{className:"circle two",children:Object(i.jsx)("div",{className:"circle three"})})]}),Object(i.jsxs)("div",{className:"wrapper",children:[Object(i.jsx)("div",{className:"bar left"}),Object(i.jsx)("div",{className:"bar top"}),Object(i.jsx)("div",{className:"bar right"}),Object(i.jsx)("div",{className:"bar bottom"}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)(j.a,{container:!0,children:Object(i.jsx)(j.a,{item:!0,xs:6,children:this.showDetailedProgress()})})]})]})}}]),s}(a.Component),R=function(e){Object(h.a)(s,e);var t=Object(m.a)(s);function s(e){var i;return Object(u.a)(this,s),(i=t.call(this,e)).state={p1:{id:1,selected:!1,port:{},onClickHandler:i.selectCom1},p2:{id:2,selected:!1,port:{},onClickHandler:i.selectCom2},supported:!1},i.selectCom1=i.selectCom1.bind(Object(v.a)(i)),i.selectCom2=i.selectCom2.bind(Object(v.a)(i)),i}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("list of serial ports the website has been granted access to previously",navigator.serial.getPorts()),e.next=4,navigator.serial.getPorts();case 4:2===(t=e.sent).length?this.setState({p1:{id:t[0].id,selected:!0,port:t[0]},p2:{id:t[1].id,selected:!1,port:t[1]},supported:!0}):1===t.length?this.setState({p1:{id:t[0].id,selected:!0,port:t[0]},p2:this.state.p2,supported:!0}):this.setState({p1:this.state.p1,p2:this.state.p2,supported:!0}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),s=!1,s="Cannot read property 'getPorts' of undefined"!==e.t0.message,this.setState({p1:this.state.p1,p2:this.state.p2,supported:s});case 13:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"AskUserForComport",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next=1===e.t0?4:2===e.t0?12:18;break;case 4:if(this.state.p1.selected){e.next=11;break}return console.log("list of serial ports the website has been granted access to previously",navigator.serial.getPorts()),e.next=8,navigator.serial.requestPort();case 8:s=e.sent,console.log("AskUserForComport p1",s),this.setState({p1:{id:this.state.p1.id,selected:!0,port:s},p2:this.state.p2,supported:this.state.supported});case 11:return e.abrupt("break",20);case 12:if(this.state.p2.selected){e.next=17;break}return e.next=15,navigator.serial.requestPort();case 15:i=e.sent,this.setState({p1:this.state.p1,p2:{id:this.state.p2.id,selected:!0,port:i},supported:this.state.supported});case 17:return e.abrupt("break",20);case 18:return console.error("Default switch-case"),e.abrupt("break",20);case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(0),console.log("An error was caught: ",e.t1);case 25:case"end":return e.stop()}}),e,this,[[0,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"selectCom1",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.AskUserForComport(1);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"selectCom2",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.AskUserForComport(2);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tryToCloseComPort",value:function(){try{if(!0===this.state.p1.selected)try{this.state.p1.port.close()}catch(e){}}catch(t){console.error(t)}}},{key:"prepareComPortSelectButtons",value:function(){return console.log("Create Message box"),this.state.supported?!1===this.state.p1.selected?Object(i.jsx)("div",{className:"parentMessageBox",children:Object(i.jsx)("div",{className:"messageBoxSelectButton",onClick:this.selectCom1},"c1")}):null:Object(i.jsx)("div",{children:Object(i.jsx)("div",{className:"warningMessageBox"})})}},{key:"render",value:function(){return console.log("render...."),Object(i.jsx)("div",{children:Object(i.jsxs)(f.a,{children:[Object(i.jsx)(C,{}),Object(i.jsxs)(O.c,{children:[Object(i.jsx)(O.a,{exact:!0,path:"/contact",children:Object(i.jsx)(y,{})}),Object(i.jsx)(O.a,{exact:!0,path:"/about",children:Object(i.jsx)(N,{})}),Object(i.jsxs)(O.a,{exact:!0,path:"/chademo",children:[this.prepareComPortSelectButtons(),Object(i.jsx)(j.a,{container:!0,justify:"center",children:Object(i.jsx)(j.a,{item:!0,xs:12,children:Object(i.jsx)("div",{children:!0===this.state.p1.selected?Object(i.jsx)(E,{port:this.state.p1}):null})})})]}),Object(i.jsxs)(O.a,{exact:!0,path:"/ccs",children:[this.prepareComPortSelectButtons(),Object(i.jsx)(j.a,{container:!0,justify:"center",children:Object(i.jsx)(j.a,{item:!0,xs:12,children:Object(i.jsx)("div",{children:!0===this.state.p1.selected?Object(i.jsx)(b,{port:this.state.p1}):null})})})]})]})]})})}}]),s}(a.Component),A=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,71)).then((function(t){var s=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,n=t.getTTFB;s(e),i(e),a(e),o(e),n(e)}))};r.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(R,{})}),document.getElementById("root")),A()}},[[55,1,2]]]);
//# sourceMappingURL=main.49c729d2.chunk.js.map